<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="/Benchmarking/Getting-Started-Benchmarking/">
        <link rel="shortcut icon" href="../../img/favicon.ico">

        <title>Getting Started - My Docs</title>

        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../css/highlight.css">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="../..">My Docs</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">About <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../About/Framework-Benchmarks">Framework Benchmarks</a>
                            </li>
                        
                            <li >
                                <a href="../../About/TechEmpower">TechEmpower</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Information <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../ProjectInformation/Concepts">Basic Concepts</a>
                            </li>
                        
                            <li >
                                <a href="../../ProjectInformation/Codebase">TODO - Intro to Codebase</a>
                            </li>
                        
                            <li >
                                <a href="../../ProjectInformation/Framework-Tests">Framework Tests</a>
                            </li>
                        
                            <li >
                                <a href="../../ProjectInformation/Environment">Environment</a>
                            </li>
                        
                            <li >
                                <a href="../../ProjectInformation/Terminology">Terminology</a>
                            </li>
                        
                            <li >
                                <a href="../../ProjectInformation/Expected-Questions">Expected Questions</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../Development/Contributing-Guide">Contributing Guide</a>
                            </li>
                        
                            <li >
                                <a href="../../Development/Getting-Started">Getting Guide</a>
                            </li>
                        
                            <li >
                                <a href="../../Development/Installation-Guide">Installation Guide</a>
                            </li>
                        
                            <li >
                                <a href="../../Development/Add-Frameworks-or-Tests">Add Frameworks or Tests</a>
                            </li>
                        
                            <li >
                                <a href="../../Development/Testing-and-Debugging">Testing and Debugging</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Benchmarking <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li class="active">
                                <a href=".">Getting Started</a>
                            </li>
                        
                            <li >
                                <a href="../Running-the-Benchmark">Run the Benchmark</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../Support/Converse">Join the Conversation</a>
                            </li>
                        
                            <li >
                                <a href="../../Support/FAQ">FAQ</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">**hidden** <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            <li >
                                <a href="../../Codebase/Configuration-File">Configuration File</a>
                            </li>
                        
                            <li >
                                <a href="../../Codebase/Framework-Benchmark-Config-File">Framework Benchmark Config File</a>
                            </li>
                        
                            <li >
                                <a href="../../Codebase/Framework-Install-File">Framework Install File</a>
                            </li>
                        
                            <li >
                                <a href="../../Codebase/Framework-Setup-File">Framework Setup File</a>
                            </li>
                        
                            <li >
                                <a href="../../Codebase/Summary-of-Script-Directories">Summary of Script Directories</a>
                            </li>
                        
                            <li >
                                <a href="../../Development/Vagrant-Development-Environment">Vagrant Development Environment</a>
                            </li>
                        
                        </ul>
                    </li>
                
                
                </ul>
            

            
            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                
                
                <li >
                    <a rel="next" href="../../Development/Testing-and-Debugging">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../Running-the-Benchmark">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                
            </ul>
            
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#benchmark-suite-deployment">Benchmark Suite Deployment</a></li>
        
            <li><a href="#required-host-roles">Required Host Roles</a></li>
        
            <li><a href="#manual-deployment">Manual Deployment</a></li>
        
            <li><a href="#windows-server-setup">Windows server setup</a></li>
        
            <li><a href="#sql-server-setup">SQL Server setup</a></li>
        
            <li><a href="#other-hosting">Other hosting</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<p>This is the getting started guide for <strong>benchmarking</strong>. If you're interested in <strong>development</strong> please visit the <a href="../../Development/Getting-Started">getting started guide for development</a>.</p>
<p>You will need three computers (or virtual machines) networked together to fill the three benchmark roles of database server, load generation server, and web framework server. We provide a Vagrant script to setup a full benchmark-ready Linux environment in Amazon EC2.</p>
<p>If you wish to benchmark a framework on a non-Amazon cloud, e.g. Azure or Rackspace, or a framework that requires Windows OS or SQL server, there are some limited helper scripts available at the moment. We welcome any pull requests along these lines. While you can always use <em>manual deployment</em>, automated scripts exist for many scenarios. Take a look at the <a href="../../Codebase/Summary-of-Script-Directories">Summary of Script Directories section</a> to figure out which directory has scripts relevant to your use case. </p>
<p><em>Please note: Running this software will make many modifications to software and settings, so it's recommended you either use a VM or hardware dedicated to this project.</em></p>
<h1 id="benchmark-suite-deployment">Benchmark Suite Deployment</h1>
<h2 id="required-host-roles">Required Host Roles</h2>
<p><strong>Client (aka load generation) Server</strong></p>
<ul>
<li>Runs the benchmark client</li>
<li>Operating system: Ubuntu Server 14.04 LTS 64-bit.</li>
</ul>
<p><strong>Database server</strong></p>
<ul>
<li>Hosts databases (e.g. <code>MySQL</code>, <code>PostgreSQL</code>, <code>MongoDB</code>, <code>SQL Server</code>).</li>
<li>Operating system: <code>Ubuntu Server 14.04 LTS 64-bit</code> or <code>Windows Server 2012 Datacenter 64-bit</code></li>
</ul>
<p><strong>App (aka web framework) Server</strong></p>
<ul>
<li>Hosts the web frameworks under test</li>
<li>Operating system: <code>Windows Server 2012 Datacenter 64-bit</code> or <code>Ubuntu Server 14.04 LTS 64-bit</code></li>
</ul>
<h2 id="manual-deployment">Manual Deployment</h2>
<p><strong>Evaluation downloads</strong></p>
<p>If you want to run the benchmark on Windows and/or SQL Server, you can download evaluation versions from Microsoft:
<em> <a href="http://technet.microsoft.com/en-us/evalcenter/hh670538.aspx">Download Windows Server 2012</a>
</em> <a href="http://www.microsoft.com/betaexperience/pd/SQL2012EvalCTA/enus/default.aspx">Download SQL Server 2012 SP1</a></p>
<p><strong>Prerequisites</strong></p>
<p>Before you get started, there are a couple of steps you can take to make running the tests easier on yourself.</p>
<p>Since the tests can run for several hours, it helps to set everything up so that once the tests are running, you can leave the machines unattended and don't need to be around to enter ssh or sudo passwords.</p>
<ol>
<li>Enable passwordless SSH access to localhost (<a href="https://www.google.com/#hl=en&amp;q=passwordless%20SSH%20access">search Google for help</a>, yielding references such as these: <a href="http://hortonworks.com/kb/generating-ssh-keys-for-passwordless-login/">article 1</a> <a href="http://superuser.com/questions/336226/how-to-ssh-to-localhost-without-password">article 2</a> <a href="https://help.ubuntu.com/community/SSH/OpenSSH/Keys">article 3</a>)</li>
<li>Enable passwordless sudo access (<a href="https://www.google.com/#hl=en&amp;q=passwordless%20sudo">Google for help</a>).</li>
</ol>
<p>After this, clone our repository and run <code>toolset/run-tests.py --help</code> for 
detailed guidance. You can also refer to the <a href="https://github.com/TechEmpower/FrameworkBenchmarks/blob/master/toolset/setup/README.md">Benchmark Suite Setup file</a> for more information. </p>
<p><strong>Installation and Usage Details</strong></p>
<p>If you choose to run TFB on your own computer, you will need to install 
passwordless SSH to your <code>load server</code> and your <code>database server</code> from 
your <code>app server</code>. You will also need to enable passwordless sudo access
on all three servers. If you are only planning to use <em>verify</em> mode, then
all three servers can be the same computer, and you will need to ensure
you have passwordless sudo access to <code>localhost</code>. </p>
<p>For all Linux framework tests, we use <a href="http://www.ubuntu.com/download/server">Ubuntu 14.04</a>, so 
it is recommended you use this for development or use. Furthermore, the load server is Linux-only,
even when testing Windows frameworks.</p>
<h2 id="windows-server-setup">Windows server setup</h2>
<ul>
<li>Connect to the Windows server via Remote Desktop.</li>
<li>Copy <code>installer-bootstrap.ps1</code> from "toolset/setup/windows" to the server (use CTRL-C and CTRL-V).</li>
<li>Copy your Linux client private key too.</li>
<li>Right click on the installer script and select <code>Run with PowerShell</code>.</li>
<li>Press Enter to confirm.</li>
<li>It will install git and then launch <code>installer.ps1</code> from the repository, which will install everything else.</li>
<li>The installation takes about 20 minutes.</li>
<li>Then you have a working console: try <code>python</code>, <code>git</code>, <code>ssh</code>, <code>curl</code>, <code>node</code> etc. and verify that everything works + PowerShell goodies.</li>
</ul>
<p>The client/database machine is still assumed to be a Linux box. You can install just the client software via</p>
<pre><code>python toolset\run-tests.py -s server-private-ip -c client-private-ip -i "C:\Users\Administrator\Desktop\client.key" --install-software --install client --list-tests
</code></pre>
<p>but this step is not required if you already installed the Linux server and client as described above.</p>
<p>Now you can run tests:</p>
<pre><code>python toolset\run-tests.py -s server-private-ip -c client-private-ip -i "C:\Users\Administrator\Desktop\client.key" --max-threads 2 --duration 30 --sleep 5 --name win --test aspnet --type all
</code></pre>
<h2 id="sql-server-setup">SQL Server setup</h2>
<ul>
<li>Connect to the SQL Server host via Remote Desktop.</li>
<li>Run a <code>Command Prompt</code> as Administrator.</li>
<li>
<p>Enter this command:</p>
<pre><code>powershell -ExecutionPolicy Bypass -Command "iex (New-Object Net.WebClient).DownloadString('https://raw.github.com/TechEmpower/FrameworkBenchmarks/master/toolset/setup/sqlserver/setup-sqlserver-bootstrap.ps1')"
</code></pre>
</li>
<li>
<p>This will configure SQL Server, the Windows Firewall, and populate the database.</p>
</li>
</ul>
<p>Now, when running <code>run-tests.py</code>, just add <code>-d &lt;ip of SQL Server instance&gt;</code>. This works for the (Windows Server-based) <code>aspnet-sqlserver-raw</code> and <code>aspnet-sqlserver-entityframework</code> tests.</p>
<h2 id="other-hosting">Other hosting</h2>
<p>The benchmark suite will work on physical or virtual servers that have local network connectivity between them and Internet access for software download.</p>
<p>In general, any private or public hosting can be used, following this procedure:</p>
<ul>
<li>Provision the instances (servers) according to the roles, operating system and additional software described in the deploment overview.</li>
<li>Configure networking as needed.</li>
<li>Set the Linux hosts for passwordless sudo as described in the instructions for dedicated hardware.</li>
</ul>
<p>Specific provisioning instructions and/or scripts for particular hosting or cloud services providers are welcome!</p>
</div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
            <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>

        

        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../js/prettify-1.0.min.js"></script>
        <script src="../../js/highlight.pack.js"></script>
        <script src="../../js/base.js"></script>
    </body>
</html>